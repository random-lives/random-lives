---
layout: default
title: Map View
---

<div class="map-view">
  <h1>Map View</h1>
  <p class="intro">Explore all {{ site.lives.size }} lives by location. Click a marker to read their story.</p>

  <div id="world-map"></div>
</div>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

<script>
(function() {
  const map = L.map('world-map', {
    zoomControl: true,
    attributionControl: false
  }).setView([20, 0], 2);

  L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
    maxZoom: 19
  }).addTo(map);

  const lives = [
    {% assign first = true %}
    {% for life in site.lives %}
    {% if life.latitude and life.longitude %}
    {% unless first %},{% endunless %}
    {% assign first = false %}
    {
      name: "{{ life.title | escape }}",
      lat: {{ life.latitude }},
      lng: {{ life.longitude }},
      url: "{{ life.url | relative_url }}",
      years: "{% if life.birth_year == life.death_year %}{{ life.birth_year }}{% else %}{{ life.birth_year }} â€“ {{ life.death_year }}{% endif %}",
      country: "{{ life.country | escape }}"
    }
    {% endif %}
    {% endfor %}
  ];

  lives.forEach(life => {
    const marker = L.circleMarker([life.lat, life.lng], {
      radius: 8,
      fillColor: "#000",
      color: "#fff",
      weight: 2,
      opacity: 1,
      fillOpacity: 0.8
    }).addTo(map);

    const popup = L.popup().setContent(`
      <div class="map-popup">
        <strong><a href="${life.url}">${life.name}</a></strong><br>
        <span class="popup-years">${life.years}</span><br>
        <span class="popup-country">${life.country}</span>
      </div>
    `);

    marker.bindPopup(popup);
  });
})();
</script>

<style>
.map-view {
  max-width: 1200px;
}

.map-view h1 {
  font-size: 2rem;
  font-weight: 600;
  margin-bottom: 8px;
}

.map-view .intro {
  font-size: 1.1rem;
  margin: 0 0 24px;
  color: #555;
}

#world-map {
  height: 600px;
  width: 100%;
  border: 1px solid #e0e0e0;
  border-radius: 4px;
}

.map-popup {
  font-size: 0.9rem;
  line-height: 1.5;
}

.map-popup a {
  color: #000;
  text-decoration: none;
}

.map-popup a:hover {
  text-decoration: underline;
}

.popup-years {
  color: #666;
}

.popup-country {
  color: #888;
  font-size: 0.85rem;
}

@media (max-width: 600px) {
  #world-map {
    height: 400px;
  }
}
</style>
